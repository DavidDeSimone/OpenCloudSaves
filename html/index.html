<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <ul class="topnav">
        <li><div class="activeButton" onclick="openAddGamesMenu()" style="width:auto;">Add Games</div></li>
        <div class="search-container">
              <input type="text" placeholder="Search.." name="search" onchange="onChangeSearch(this)" onkeypress="onChangeSearch(this)" onpaste = "onChangeSearch(this)" oninput = "onChangeSearch(this)">
          </div>  
    </ul>

      <div class="padding"></div>

<div>
{{range .Games}}
<button class="accordion" id="{{.Def.DisplayName}}-accordion">{{.Def.DisplayName}}</button>
<div class="panel" id="{{.Def.DisplayName}}-panel">
    <div id="{{.Def.DisplayName}}-log" style="display: none;">This will be the log message</div>
    <div class="meter" style="height: 30px;">
        <span id="{{.Def.DisplayName}}-progress" style="width: 1%; display: none;"></span>
    </div>
    <div>
        <button id="{{.Def.DisplayName}}-syncbtn" class="btn success" onclick="onSyncButtonClicked(this, '{{.Name}}')">Sync Game</button>
        <button id="{{.Def.DisplayName}}-editbtn" class="btnaddl neutralbtn" onclick="onEditButtonClicked(this, '{{.Name}}')">Edit</button>
        <button id="{{.Def.DisplayName}}-removebtn" class="removebtn" onclick="onRemoveButtonClicked(this, '{{.Name}}')">Remove</button>
      </div>
      <table id="customers">
        <tr>
          <th>Filename</th>
          <th>Modified</th>
          <th>Size</th>
        </tr>
        <tr>
        {{range .SaveFiles}}
            <td>{{.Filename}}</td>
            <td>{{.ModifiedBy}}</td>
            <td>{{.Size}}</td>
          </tr>
        {{end}}
      </table>
    

</div>
{{end}}
</div>


<div id="id01" class="modal">
    <span onclick="onAddGameClosed()" class="close" title="Close Modal">&times;</span>
    <div class="modal-content">
      <div class="container">
        <h1>Add a game</h1>
        <div>
            <b>Game Name</b>
            <input required id="gamename" type="text" value="New Game">
        </div>
        <hr>
        {{range .Platforms}}
        <label><b>{{.}}</b></label>
        <div class="{{.}}-container" id="{{.}}-container">
        <input class="{{.}}-path" id="{{.}}-path" type="text" placeholder="Gamepath" name="path">
        <button class="selectbtn" onclick="onSelectClicked(this, '{{.}}')">Select</button>
  
        <input class="{{.}}-ext" id="{{.}}-ext" type="text" placeholder="Extensions" name="ignorelist">
        <input class="{{.}}-ignore" id="{{.}}-ignore" type="text" placeholder="Ignore List" name="ignorelist">
        <div>
            <input class="{{.}}-download" id="{{.}}-download" type="checkbox" checked="checked" name="remember" style="margin-bottom:15px"> Download
            <input class="{{.}}-upload" id="{{.}}-upload" type="checkbox" checked="checked" name="remember" style="margin-bottom:15px"> Upload
            <input class="{{.}}-delete" id="{{.}}-delete" type="checkbox" checked="checked" name="remember" style="margin-bottom:15px"> Delete
        </div>
        <hr>
        </div>
        <div>
            <button class="addpathbtn" onclick="onAddPathClicked('{{.}}')">Add {{.}} Path</button>
        </div>
        <hr>
        {{end}}
  
        <div class="clearfix">
          <button onclick="onAddGameClosed()" class="cancelbtn contentbutton">Cancel</button>
          <button onclick="submitGamedef()" class="signupbtn contentbutton">Save</button>
        </div>
      </div>
    </div>
  </div>


</body>
</html> 